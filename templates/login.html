{% extends "base.html" %}
{% block title %}Login - dihmail{% endblock %}
{% block content %}
<div class="auth-container">
    <h2>Login</h2>
    <form method="POST">
        <div class="form-group">
            <label for="local">Username (local part):</label>
            <input type="text" id="local" name="local" required>
        </div>
        <div class="form-group">
            <label for="password">Password:</label>
            <div class="password-wrapper">
                <input type="password" id="password" name="password" required>
                <button type="button" class="icon-btn" onclick="togglePassword('password', this)"><span class="material-icons">visibility</span></button>
            </div>
        </div>
        <button type="submit" class="btn-primary">Login</button>
    </form>
    <script>
    function togglePassword(id, el){
        const pwd = document.getElementById(id);
        const icon = el.querySelector('.material-icons');
        if(pwd.type === 'password') { pwd.type = 'text'; icon.textContent = 'visibility_off'; }
        else { pwd.type = 'password'; icon.textContent = 'visibility'; }
    }
    </script>
    </form>
    <p>Don't have an account? <a href="{{ url_for('register') }}">Register here</a></p>
</div>
{% endblock %}
