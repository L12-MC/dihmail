{% extends "base.html" %}
{% block title %}Register - dihmail{% endblock %}
{% block content %}
<div class="auth-container">
    <h2>Register</h2>
    <form method="POST">
        <div class="form-group">
            <label for="local">Username (local part):</label>
            <input type="text" id="local" name="local" required>
            <small>This will be your primary address: &lt;username&gt;:dih:domain.com</small>
        </div>
        <div class="form-group">
            <label for="password">Password:</label>
            <div class="password-wrapper">
                <input type="password" id="password" name="password" required>
                <button type="button" class="icon-btn" onclick="togglePassword('password', this)"><span class="material-icons">visibility</span></button>
            </div>
        </div>
        <div class="form-group">
            <label for="confirm_password">Confirm Password:</label>
            <div class="password-wrapper">
                <input type="password" id="confirm_password" name="confirm_password" required>
                <button type="button" class="icon-btn" onclick="togglePassword('confirm_password', this)"><span class="material-icons">visibility</span></button>
            </div>
        </div>
        <button type="submit" class="btn-primary">Register</button>
    </form>
    <script>
    function togglePassword(id, el){
        const pwd = document.getElementById(id);
        const icon = el.querySelector('.material-icons');
        if(pwd.type === 'password') { pwd.type = 'text'; icon.textContent = 'visibility_off'; }
        else { pwd.type = 'password'; icon.textContent = 'visibility'; }
    }
    </script>
    </form>
    <p>Already have an account? <a href="{{ url_for('login') }}">Login here</a></p>
</div>
{% endblock %}
